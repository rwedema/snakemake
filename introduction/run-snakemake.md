# Run SnakeMake

Snakemake can run the entire pipeline for all samples but it can also run part of the flow or part of the samples. This is especially convenient for testing purpose. Mind you, if output files exists it will not execute the rule responsible for the creation of the output file. Best practise in the development phase is to add a rule clean to clean output files. The snakefile can be called Snakefile but you also can name your pipeline script otherwise (for instance main.smk )

### Running the pipeline

We can run the pipeline by invoking snakemake. It knows to look for a file called Snakefile. Otherwise, you can specify a file to use with the --snakefile option.

```python
snakemake --snakefile Snakefile
```

If you try to rerun you will see that `snakemake` does not rerun the jobs. Instead it says:

```
nothing to be done
```

This is because the files that need to be generated already exist. It is one of the features of `snakemake` that it only processes changed or new files.

### Run single rule

In the terminal I  can call a single rule from my command line. For instance a rule called `clean`

```python
snakemake clean
```

### Run selection of samples

When you want to execute (part of the pipeline) for specific samples you can call the output files that needs to be generated by the rule(s) as follow:

```python
snakemake mapped_reads/{A,B}.bam
```

this will execute the flow till the step of the bam file generation for Sample A and B

### Snakemake job options

Snakemake has several job options to help you testing your script. You can use a dry run executing the rules but not generating the files. You can print shell commands or the reason why a script is executed. You also can print more information about the cores uses.&#x20;

```python
snakemake --snakefile, -s #specify snakefile script name
snakemake --cores  #call number of cores
snakemake -n #dryrun
snakemake -p #print shell command
snakemake --reason #print reason to execute a job
snakemake --list #Show available rules in given Snakefile
snakemake --verbose #print debugging output (default False)
snakemake --summary #prints a summary of files created by the workflow
snakemake --delete-all-output ##clean all the output
```

See&#x20;

{% embed url="https://snakemake.readthedocs.io/en/stable/executing/cli.html" %}
